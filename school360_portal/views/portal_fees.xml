<odoo>
    <template id="portal_student_fees" name="Student Fees">
        <t t-call="portal.portal_layout">
            <div class="container mt-4">
                <!-- Header -->
                <div class="row mb-4">
                    <div class="col text-center">
                        <h3 class="mb-4 fw-bold" style="color: #0d6efd;">
                            <i class="bi bi-cash-stack me-2"></i>Fees Overview - <t t-esc="student.name"/>
                        </h3>
                        <p class="text-muted">View all fees and payment history</p>
                    </div>
                </div>

                <!-- Fees Table -->
                <div class="table-responsive shadow-sm rounded">
                    <table class="table table-striped table-bordered table-hover align-middle">
                        <thead class="dashboard-table-header">
                            <tr>
                                <th>Fee</th>
                                <th>Amount Due</th>
                                <th>Amount Paid</th>
                                <th>Status</th>
                                <th>Payments</th>
                            </tr>
                        </thead>
                        <tbody>
                            <t t-foreach="fees" t-as="fee">
                                <tr>
                                    <td><t t-esc="fee.name"/></td>
                                    <td><t t-esc="fee.amount_due"/> <t t-esc="fee.currency_id.symbol"/></td>
                                    <td><t t-esc="fee.amount_paid"/> <t t-esc="fee.currency_id.symbol"/></td>
                                    <td>
                                        <t t-if="fee.state == 'draft'">
                                            <span class="badge bg-secondary">Draft</span>
                                        </t>
                                        <t t-if="fee.state == 'open'">
                                            <span class="badge bg-info text-dark">Open</span>
                                        </t>
                                        <t t-if="fee.state == 'paid'">
                                            <span class="badge bg-success">Paid</span>
                                        </t>
                                        <t t-if="fee.state not in ['draft','open','paid']">
                                            <span class="badge bg-dark"><t t-esc="fee.state"/></span>
                                        </t>
                                    </td>
                                    <td>
                                        <t t-if="fee.payment_ids">
                                            <ul class="list-unstyled mb-0">
                                                <t t-foreach="fee.payment_ids" t-as="p">
                                                    <li>
                                                        <t t-esc="p.name"/>: <t t-esc="p.amount"/> <t t-esc="p.currency_id.symbol"/>
                                                    </li>
                                                </t>
                                            </ul>
                                        </t>
                                        <t t-if="not fee.payment_ids">
                                            <span class="text-muted">No payments yet</span>
                                        </t>
                                    </td>
                                </tr>
                            </t>
                            <t t-if="not fees">
                                <tr>
                                    <td colspan="5" class="text-center text-muted">
                                        No fees found for this student.
                                    </td>
                                </tr>
                            </t>
                        </tbody>
                    </table>
                </div>

                <!-- Back Button -->
                <div class="mt-3 text-center">
                    <a t-att-href="'/portal/dashboard'" class="btn btn-primary shadow-sm">
                        <i class="bi bi-arrow-left me-1"></i> Back to Dashboard
                    </a>
                </div>
            </div>

            <!-- Custom Table Header CSS -->
            <style>
                .dashboard-table-header {
                    background-color: #e6f3ff; /* light blue */
                    color: #0d6efd; /* primary blue text */
                    border-bottom: 2px solid #cce7ff;
                }
                .dashboard-table-header th {
                    font-weight: 600;
                    padding: 12px;
                    font-size: 14px;
                }
                .table tbody tr:hover {
                    background-color: #f2f8ff; /* subtle hover effect */
                }
            </style>
        </t>
    </template>
</odoo>